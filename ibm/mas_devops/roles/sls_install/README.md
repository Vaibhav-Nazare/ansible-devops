sls_install
===========

Install **IBM Suite License Service** and generate properties that can be used in the `sls_gencfg` role to create a configuration that can be directly applied to IBM Maximo Application Suite.

Role Variables
--------------

### sls_catalog_source
TODO: Write me

- Environment Variable: `SLS_CATALOG_SOURCE`
- Default: `ibm-operator-catalog`

### sls_channel
TODO: Write me

- Environment Variable: `SLS_CHANNEL`
- Default: `3.x`

### sls_namespace
Define the namespace where sls must be installed.

- Environment Variable: `SLS_NAMESPACE`
- Default: `ibm-sls`

### sls_icr_cp
TODO: Write me

- Environment Variable: `SLS_ICR_CP`
- Default: `cp.icr.io/cp`

### sls_icr_cpopen
TODO: Write me

- Environment Variable: `SLS_ICR_CPOPEN`
- Default: `icr.io/cpopen`

### sls_instance_name
Defines the instance ID to be used for SLS installation.

- Environment Variable: `SLS_INSTANCE_NAME`
- Default: `sls`

### sls_entitlement_username
Username for entitled registry. This username will be used to create the image pull secret.

- Environment Variable: `SLS_ENTITLEMENT_USERNAME`
- Default: `cp`

### sls_entitlement_key
Required.  API Key for entitled registry. This password will be used to create the image pull secret.

- Environment Variable: `SLS_ENTITLEMENT_KEY` or `IBM_ENTITLEMENT_KEY`
- Default: `sls`

### sls_storage_class
TODO: Write me

- Environment Variable: `SLS_STORAGE_CLASS`
- Default: None

### sls_storage_size
TODO: Write me

- Environment Variable: None
- Default: `5g`

### sls_domain
TODO: Write me

- Environment Variable: `SLS_DOMAIN`
- Default: None

### sls_auth_enforce
TODO: Write me

- Environment Variable: `SLS_AUTH_ENFORCE`
- Default: None

### sls_compliance_enforce
TODO: Write me

- Environment Variable: `SLS_COMPLIANCE_ENFORCE`
- Default: None

### sls_registration_open
TODO: Write me

- Environment Variable: `SLS_REGISTRATION_OPEN`
- Default: None

### bootstrap.license_id
Defines the License Id to be used to bootstrap SLS.

- Environment Variable: `SLS_LICENSE_ID`
- Default: None

### bootstrap.registration_key
Defines the Registration Key to be used to bootstrap SLS.

- Environment Variable: `SLS_REGISTRATION_KEY`
- Default: None

### bootstrap.entitlement_file
Defines the License File to be used to bootstrap SLS.

- Environment Variable: None
- Default: `{{ mas_config_dir }}/entitlement.lic`

### sls_mongodb_cfg_file
Either `sls_mongodb_cfg_file` or the `sls_mongodb` object are required to configure MongoDb.  Location of a MAS MongoCfg defintion (as generated by the `mongodb` role).  If provided the role will use the information in that config file to configure SLS.

- Environment Variable: `SLS_MONGODB_CFG_FILE`
- Default: None

### sls_mongodb.hosts
Either `sls_mongodb_cfg_file` or the `sls_mongodb` object are required to configure MongoDb.  Defines list of host and port pair for MongoDb to be used with SLS.

- Environment Variable: None
- Default: None

### sls_mongodb.username
Either `sls_mongodb_cfg_file` or the `sls_mongodb` object are required to configure MongoDb.  Defines the MongoDB Username.

- Environment Variable: None
- Default: None

### sls_mongodb.password
Either `sls_mongodb_cfg_file` or the `sls_mongodb` object are required to configure MongoDb.  Defines the MongoDb Password.

- Environment Variable: None
- Default: None


Example Playbook
----------------

```yaml
- hosts: localhost
  any_errors_fatal: true
  vars:
    sls_entitlement_key: "{{ lookup('env', 'SLS_ENTITLEMENT_KEY') }}"
    sls_storage_class: "ibmc-block-bronze"

    sls_mongodb_cfg_file: "/etc/mas/mongodb.yml"

    bootstrap:
      license_id: "aa78dd65ef10"
      registration_key: "{{ lookup('env', 'SLS_REGISTRATION_KEY') }}"
      entitlement_file: "/etc/mas/entitlement.lic"
  roles:
    - ibm.mas_devops.sls_install
```


License
-------

EPL-2.0
